(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,a,t){e.exports=t(364)},200:function(e,a,t){},202:function(e,a,t){e.exports=t.p+"static/media/bg.2f3ac5e2.jpg"},203:function(e,a,t){e.exports=t.p+"static/media/rocket.b9e643ff.jpg"},204:function(e,a,t){},359:function(e,a){},364:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(49),r=t.n(c),s=(t(200),t(23)),o=t(24),i=t(27),m=t(25),u=t(28),h=t(379),d=t(380),p=(t(202),t(203),t(204),function(e){function a(){return Object(s.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.currentMatch,a=e.redAlliance,t=e.blueAlliance;return n.a.createElement("div",{id:"scoreInfo"},n.a.createElement("div",{id:"redScore"},n.a.createElement("div",{className:"teams"},"Teams",n.a.createElement("ul",null,e.redAlliance.teams.map(function(e){return n.a.createElement("li",{key:e},e)}))),n.a.createElement("div",{className:"pointsBreakdown"},n.a.createElement("div",{className:"scoreBox"},n.a.createElement("span",{className:"score"},a.totalPoints),n.a.createElement("span",{className:"win"},a.totalPoints>t.totalPoints?"WIN":"")),n.a.createElement("span",{className:"sandstorm"},"Sandstorm:"," ",n.a.createElement("b",null,3*a.scoringDetails.sandstorm.level1+6*a.scoringDetails.sandstorm.level2)),n.a.createElement("span",{className:"hatch"},"Hatch: ",n.a.createElement("b",null,2*a.scoringDetails.hatchPanels)),n.a.createElement("span",{className:"cargo"},"Cargo: ",n.a.createElement("b",null,3*a.scoringDetails.cargo)),n.a.createElement("span",{className:"climb"},"Climb:"," ",n.a.createElement("b",null,3*a.scoringDetails.habClimb.level1+6*a.scoringDetails.habClimb.level2+12*a.scoringDetails.habClimb.level3)),n.a.createElement("span",{className:"fouls"},"Blue Fouls:"," ",n.a.createElement("b",null,3*t.fouls+10*t.techFouls))),n.a.createElement("div",{className:"rpBreakdown"},n.a.createElement("span",{className:"docking "+(a.scoringDetails.habDocking?"won":"lost")},"Docking"),n.a.createElement("span",{className:"rocket "+(a.scoringDetails.completeRocket?"won":"lost")},"Rocket"))),n.a.createElement("div",{id:"blueScore"},n.a.createElement("div",{className:"teams"},"Teams",n.a.createElement("ul",null,t.teams.map(function(e){return n.a.createElement("li",{key:e},e)}))),n.a.createElement("div",{className:"pointsBreakdown"},n.a.createElement("div",{className:"scoreBox"},n.a.createElement("span",{className:"score"},t.totalPoints),n.a.createElement("span",{className:"win"},t.totalPoints>a.totalPoints?"WIN":"")),n.a.createElement("span",{className:"sandstorm"},"Sandstorm:"," ",n.a.createElement("b",null,3*t.scoringDetails.sandstorm.level1+6*t.scoringDetails.sandstorm.level2)),n.a.createElement("span",{className:"hatch"},"Hatch: ",n.a.createElement("b",null,2*t.scoringDetails.hatchPanels)),n.a.createElement("span",{className:"cargo"},"Cargo: ",n.a.createElement("b",null,3*t.scoringDetails.cargo)),n.a.createElement("span",{className:"climb"},"Climb:"," ",n.a.createElement("b",null,3*t.scoringDetails.habClimb.level1+6*t.scoringDetails.habClimb.level2+12*t.scoringDetails.habClimb.level3)),n.a.createElement("span",{className:"fouls"},"Red Fouls:"," ",n.a.createElement("b",null,3*a.fouls+10*a.techFouls))),n.a.createElement("div",{className:"rpBreakdown"},n.a.createElement("span",{className:"docking "+(t.scoringDetails.habDocking?"won":"lost")},"Docking"),n.a.createElement("span",{className:"rocket "+(t.scoringDetails.completeRocket?"won":"lost")},"Rocket"))))}}]),a}(l.Component)),b=t(207),E=function(e){function a(){var e,t;Object(s.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).state={startedAtMoment:null,matchState:null},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(e){var a=this;this.setState({startedAtMoment:b(this.props.currentMatch.startedAt)}),this.props.socket.on("updateMatch",function(e){a.setState({startedAtMoment:b(e.startedAt)})})}},{key:"componentDidMount",value:function(){var e,a,t=this;setInterval(function(){e=b.duration(b().diff(t.state.startedAtMoment)).as("seconds"),a=150-e,e<0?t.setState({matchState:"Ready"}):a<150&&a>135?t.setState({matchState:"Sandstorm"}):a<135&&a>0?t.setState({matchState:"Normal Play"}):a<=0&&t.setState({matchState:"Scores Pending"}),t.forceUpdate()},50)}},{key:"render",value:function(){if(this.props.currentMatch&&this.state.startedAtMoment){var e=b.duration(b().diff(this.state.startedAtMoment)).as("seconds").toFixed(2),a=150-e;return n.a.createElement("div",null,n.a.createElement("h1",{className:"big"},this.state.matchState,n.a.createElement("br",null),"Ready"===this.state.matchState?n.a.createElement("span",null,Math.floor(e),n.a.createElement("small",null,String(Number.parseFloat(e-Math.floor(e)).toFixed(2)).substring(1))):"Scores Pending"!==this.state.matchState?n.a.createElement("span",null,Math.floor(a),n.a.createElement("small",null,String(Number.parseFloat(a-Math.floor(a)).toFixed(2)).substring(1))):null),n.a.createElement("div",{id:"scoreInfo",style:{marginTop:"5%"}},n.a.createElement("div",{id:"redBox",style:{minWidth:"20%"}},n.a.createElement("div",{className:"teams"},"Teams",n.a.createElement("ul",null,this.props.currentMatch.redAlliance.teams.map(function(e){return n.a.createElement("li",{key:e},e)})))),n.a.createElement("div",{id:"blueBox",style:{minWidth:"20%"}},n.a.createElement("div",{className:"teams"},"Teams",n.a.createElement("ul",null,this.props.currentMatch.blueAlliance.teams.map(function(e){return n.a.createElement("li",{key:e},e)}))))))}return n.a.createElement("h1",null,"test")}}]),a}(l.Component),g=function(e){function a(){var e,t;Object(s.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).state={currentMatch:null},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(e){var a=this;this.setState({currentMatch:this.props.currentMatch}),this.props.socket.on("updateMatch",function(e){console.log("UPDATE",e),a.setState({currentMatch:e})})}},{key:"render",value:function(){var e=this.state.currentMatch;return n.a.createElement("div",{className:"app"},n.a.createElement("div",{id:"background"}),n.a.createElement("div",{id:"rocket"}),this.props.socket.connected?null:n.a.createElement("h1",{className:"red"},"Not connected to websocket"),e?n.a.createElement("div",null,n.a.createElement("div",{id:"MatchInfo"},n.a.createElement("span",{id:"eventName"},e.eventName),n.a.createElement("span",{id:"matchName"},e.matchType+" "+e.matchNumber)),{posted:n.a.createElement(p,{currentMatch:e}),pending:n.a.createElement("div",null,n.a.createElement("h1",null,"Match is Pending"),n.a.createElement("div",{id:"scoreInfo",style:{marginTop:"5%"}},n.a.createElement("div",{id:"redBox",style:{minWidth:"20%"}},n.a.createElement("div",{className:"teams"},"Teams",n.a.createElement("ul",null,e.redAlliance.teams.map(function(e){return n.a.createElement("li",{key:e},e)})))),n.a.createElement("div",{id:"blueBox",style:{minWidth:"20%"}},n.a.createElement("div",{className:"teams"},"Teams",n.a.createElement("ul",null,e.blueAlliance.teams.map(function(e){return n.a.createElement("li",{key:e},e)})))))),inProgress:n.a.createElement(E,{currentMatch:e,socket:this.props.socket}),eStop:n.a.createElement("h1",{className:"red big"},"EMERGENCY STOP")}[e.matchStatus]):n.a.createElement("h1",{className:"lonelyH1"},"No current match"))}}]),a}(l.Component),v=t(39),f=t(165),C=t(373),k=t(377),M=t(378),D=t(374),N=t(376),A=(t(208),function(e){function a(){var e,t;Object(s.a)(this,a);for(var l=arguments.length,n=new Array(l),c=0;c<l;c++)n[c]=arguments[c];return(t=Object(i.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(n)))).state={currentMatch:null},t.updateMatch=function(e){return function(){t.props.socket.emit("updateMatch",Object(f.a)({},e,{_id:t.state.currentMatch._id}))}},t.newMatch=function(){t.props.socket.emit("newMatch")},t.changeField=function(e,a){var l;t.props.socket.emit("updateMatch",(l={},Object(v.a)(l,a.name,a.value||"0"),Object(v.a)(l,"_id",t.state.currentMatch._id),l))},t.changeMultilineField=function(e,a){a.value=a.value.split("\n"),t.changeField(e,a)},t.changeCheckbox=function(e,a){var l;t.props.socket.emit("updateMatch",(l={},Object(v.a)(l,a.name,a.checked),Object(v.a)(l,"_id",t.state.currentMatch._id),l))},t.setCurrentMatch=function(e,a){console.log(e,a),t.props.socket.emit("setCurrentMatch",a.value)},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(e){var a=this;this.setState({currentMatch:this.props.currentMatch}),this.props.socket.on("updateMatch",function(e){console.log("UPDATE"),a.setState({currentMatch:e}),a.props.socket.emit("getMatchHistory"),console.log(e)}),this.props.socket.on("matchHistory",function(e){console.log("Received Match History"),a.setState({matchHistory:e})})}},{key:"render",value:function(){var e=this;if(this.state.currentMatch)var a=this.state.currentMatch.redAlliance,t=this.state.currentMatch.blueAlliance;return n.a.createElement(C.a,{id:"adminDisplay"},n.a.createElement(k.a,{info:!0},n.a.createElement("b",null,"NOTE: Values here should be counts (e.g.: number of hatches), not the point values. Point values will be calculated")),n.a.createElement(M.a,{onClick:this.newMatch},"New Match"),this.state.currentMatch&&n.a.createElement("div",{style:{marginTop:"10px"}},n.a.createElement(M.a,{onClick:this.updateMatch({matchStatus:"inProgress",setStart:!0})},"Start Match"),n.a.createElement(M.a,{color:"red",onClick:this.updateMatch({matchStatus:"eStop"})},"E-STOP"),n.a.createElement(M.a,{onClick:this.updateMatch({matchStatus:"posted"})},"Post Scores")),this.state.currentMatch&&n.a.createElement(D.a,null,n.a.createElement(D.a.Input,{autoComplete:"off",name:"eventName",label:"Event Name",onChange:this.changeField,value:this.state.currentMatch.eventName}),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",name:"matchType",label:"Match Type",onChange:this.changeField,value:this.state.currentMatch.matchType}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Match Number",name:"matchNumber",onChange:this.changeField,value:this.state.currentMatch.matchNumber})),n.a.createElement("div",{id:"redBox",style:{margin:"10px"}},n.a.createElement(D.a.TextArea,{lines:"3",name:"redAlliance.teams",label:"Teams",onChange:this.changeMultilineField,value:a.teams.join("\n")}),n.a.createElement("b",null,"Sandstorm"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 1",name:"redAlliance.scoringDetails.sandstorm.level1",onChange:this.changeField,value:a.scoringDetails.sandstorm.level1}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 2",name:"redAlliance.scoringDetails.sandstorm.level2",onChange:this.changeField,value:a.scoringDetails.sandstorm.level2})),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Hatch Panels",name:"redAlliance.scoringDetails.hatchPanels",onChange:this.changeField,value:a.scoringDetails.hatchPanels}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Cargo",name:"redAlliance.scoringDetails.cargo",onChange:this.changeField,value:a.scoringDetails.cargo}),n.a.createElement("b",null,"Hab Climb"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 1",name:"redAlliance.scoringDetails.habClimb.level1",onChange:this.changeField,value:a.scoringDetails.habClimb.level1}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 2",name:"redAlliance.scoringDetails.habClimb.level2",onChange:this.changeField,value:a.scoringDetails.habClimb.level2}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 3",name:"redAlliance.scoringDetails.habClimb.level3",onChange:this.changeField,value:a.scoringDetails.habClimb.level3})),n.a.createElement("b",null,"RP Params"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Checkbox,{label:"Hab Docking",name:"redAlliance.scoringDetails.habDocking",onChange:this.changeCheckbox,checked:a.scoringDetails.habDocking}),n.a.createElement(D.a.Checkbox,{label:"Complete Rocket",name:"redAlliance.scoringDetails.completeRocket",onChange:this.changeCheckbox,checked:a.scoringDetails.completeRocket})),n.a.createElement("b",null,"RED Fouls"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Fouls",name:"redAlliance.fouls",onChange:this.changeField,value:a.fouls}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Tech Fouls",name:"redAlliance.techFouls",onChange:this.changeField,value:a.techFouls}))),n.a.createElement("div",{id:"blueBox",style:{margin:"10px"}},n.a.createElement(D.a.TextArea,{lines:"3",name:"blueAlliance.teams",label:"Teams",onChange:this.changeMultilineField,value:t.teams.join("\n")}),n.a.createElement("b",null,"Sandstorm"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 1",name:"blueAlliance.scoringDetails.sandstorm.level1",onChange:this.changeField,value:t.scoringDetails.sandstorm.level1}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 2",name:"blueAlliance.scoringDetails.sandstorm.level2",onChange:this.changeField,value:t.scoringDetails.sandstorm.level2})),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Hatch Panels",name:"blueAlliance.scoringDetails.hatchPanels",onChange:this.changeField,value:t.scoringDetails.hatchPanels}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Cargo",name:"blueAlliance.scoringDetails.cargo",onChange:this.changeField,value:t.scoringDetails.cargo}),n.a.createElement("b",null,"Hab Climb"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 1",name:"blueAlliance.scoringDetails.habClimb.level1",onChange:this.changeField,value:t.scoringDetails.habClimb.level1}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 2",name:"blueAlliance.scoringDetails.habClimb.level2",onChange:this.changeField,value:t.scoringDetails.habClimb.level2}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Level 3",name:"blueAlliance.scoringDetails.habClimb.level3",onChange:this.changeField,value:t.scoringDetails.habClimb.level3})),n.a.createElement("b",null,"RP Params"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Checkbox,{label:"Hab Docking",name:"blueAlliance.scoringDetails.habDocking",onChange:this.changeCheckbox,checked:t.scoringDetails.habDocking}),n.a.createElement(D.a.Checkbox,{label:"Complete Rocket",name:"blueAlliance.scoringDetails.completeRocket",onChange:this.changeCheckbox,checked:t.scoringDetails.completeRocket})),n.a.createElement("b",null,"Blue Fouls"),n.a.createElement(D.a.Group,{widths:"equal"},n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Fouls",name:"blueAlliance.fouls",onChange:this.changeField,value:t.fouls}),n.a.createElement(D.a.Input,{autoComplete:"off",fluid:!0,label:"Tech Fouls",name:"blueAlliance.techFouls",onChange:this.changeField,value:t.techFouls})))),this.state.matchHistory?n.a.createElement(N.a,{celled:!0},n.a.createElement(N.a.Header,null,n.a.createElement(N.a.Row,null,n.a.createElement(N.a.HeaderCell,null,"Match Name"),n.a.createElement(N.a.HeaderCell,null,"Blue Teams"),n.a.createElement(N.a.HeaderCell,null,"Blue Score"),n.a.createElement(N.a.HeaderCell,null,"Red Teams"),n.a.createElement(N.a.HeaderCell,null,"Red Score"),n.a.createElement(N.a.HeaderCell,null,"Match State"),n.a.createElement(N.a.HeaderCell,null))),n.a.createElement(N.a.Body,null,this.state.matchHistory.map(function(a){return n.a.createElement(N.a.Row,{key:a._id},n.a.createElement(N.a.Cell,null,a.matchType+" "+a.matchNumber),n.a.createElement(N.a.Cell,null,a.blueAlliance.teams.join(", ")),n.a.createElement(N.a.Cell,null,a.blueAlliance.totalPoints),n.a.createElement(N.a.Cell,null,a.redAlliance.teams.join(", ")),n.a.createElement(N.a.Cell,null,a.redAlliance.totalPoints),n.a.createElement(N.a.Cell,null,a.matchStatus),n.a.createElement(N.a.Cell,null,n.a.createElement(M.a,{onClick:e.setCurrentMatch,value:a._id},"Set Current")))}))):null)}}]),a}(l.Component)),y=t(182),w=t.n(y),S=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={currentMatch:null},t.socket=w()("http://"+window.location.hostname+":9000"),window.io=t.socket.io,t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(h.a,null,n.a.createElement(d.a,{path:"/admin",component:function(){return n.a.createElement(A,{currentMatch:e.state.currentMatch,socket:e.socket})}}),n.a.createElement(d.a,{path:"/",component:function(){return n.a.createElement(g,{currentMatch:e.state.currentMatch,socket:e.socket})}}))}}]),a}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=t(375);r.a.render(n.a.createElement(F.a,null,n.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[195,2,1]]]);
//# sourceMappingURL=main.99bd6827.chunk.js.map